# ce6310project: FANCI Implmentation

## How to run genVec.py:
---

`>> python genVec.py -benchmark <name_of_benchmark> -num_samples <num_samples>`

- <name_of_benchmark> takes in a benchmark name (s15850, s35932, s38417, etc.).
- <num_samples> is an integer for the number of pairs of randomized inputs to 
	the Verilog testbench to test on.

If the name of the benchmark is not one of the ones listed above, the program 
	will ask for the number of inputs of the Verilog circuit being tested on.
	This should also be an integer. 

The program will create a vector file named `<name_of_benchmark>_<num_samples>samples.vec` 
	in the `./vectorfiles" directory`. 

The total size of the file will be <input_size> ** 2 * <num_samples>

~~~
sample input:

>> python genVec.py -benchmark s15850 -num_samples 4096

File will be in 

>> ./vectorfiles/s15850_4096samples.vec
~~~


---
## How to run genTrojans.py:
---

TO COMPUTE SUSPICOUS WIRES WITH DEFAULT THRESHOLD VALUE (0.01):

`>> python genTrojans.py -benchmark <name_of_benchmark> -data <filepath_to_data_out>`

- <name_of_benchmark> takes in a benchmark name (s15850, s35932, s38417, etc.).
- <filepath_to_data_out> is the filepath to the data_out file generated by the 
	Verilog testbench.

TO COMPUTE CONTROL TABLE AND HEURISTICS TO DETERMINE THRESHOLD VALUE AFTER INSPECTION:

`>> python genTrojans.py -benchmark <name_of_benchmark> -data <filepath_to_data_out> --manual_threshold `

- `--manual_threshold` is a flag to stop the program before checking if the 
	post-heuristic control values are high/low enough.

TO COMPUTE SUSPICOUS WIRES AFTER ASSESSING WHAT MANUAL CONTROL VALUE SHOULD BE:

`>> python genTrojans.py -benchmark <name_of_benchmark> -t <threshold_value>`

~~~
sample input:

>> python genTrojans.py -benchmark s15850 -data data_out/data_out_s15850.txt

This will generate the following files:

./postprocessing/s15850_4096control.csv			 - contains the control table for s15850
./postprocessing/s15850_4096heuristic.csv		 - contains the heuristic table for s15850
./postprocessing/s15850_4096marked.csv			 - contains the table of suspicious wires using each heuristic
~~~

NOTE: Computing the control table with a large number of samples (e.g. >4096) 
	will be very slow (~2 hours).